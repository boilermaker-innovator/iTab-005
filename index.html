


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Thumbs-Up + Info Code Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f4f4f4;
    }
    .generator-container {
      max-width: 600px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .form-group {
      margin-bottom: 15px;
    }
    label {
      font-weight: bold;
      display: block;
      margin-bottom: 5px;
    }
    input[type="text"], textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    button {
      padding: 10px 15px;
      cursor: pointer;
      border: none;
      border-radius: 4px;
      background: #007bff;
      color: #fff;
      margin: 5px 0;
    }
    button:hover {
      background: #0056b3;
    }
    #preview {
      background: #fff;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      margin-top: 15px;
      min-height: 300px;
      white-space: pre-wrap; /* preserve code formatting */
    }
    textarea#output {
      width: 100%;
      height: 200px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      resize: none;
    }
  </style>
</head>
<body>

  <div class="generator-container">
    <h2>Thumbs-Up + Info Code Generator</h2>
    <p>Customize your floating reaction bubble and info popup.</p>

    <!-- Form Inputs -->
    <div class="form-group">
      <label>Reaction Popup Title:</label>
      <input type="text" id="reactionTitle" value="My iTab Title" />
    </div>

    <div class="form-group">
      <label>Reaction 1 Text:</label>
      <input type="text" id="reaction1" value="üëç This is so helpful" />
    </div>

    <div class="form-group">
      <label>Reaction 2 Text:</label>
      <input type="text" id="reaction2" value="‚ù§Ô∏è It's entertaining" />
    </div>

    <div class="form-group">
      <label>Reaction 3 Text:</label>
      <input type="text" id="reaction3" value="üî• Great explanation" />
    </div>

    <div class="form-group">
      <label>Reaction 4 Text:</label>
      <input type="text" id="reaction4" value="üéâ I would recommend" />
    </div>

    <div class="form-group">
      <label>Info Popup Title:</label>
      <input type="text" id="infoTitle" value="Reaction Stats" />
    </div>

    <div class="form-group">
      <label>Info Popup Intro Text:</label>
      <textarea id="infoIntro" rows="3">See how many people chose each reaction.</textarea>
    </div>

    <button onclick="generateCode()">Generate Code</button>

    <h3>Preview:</h3>
    <div id="preview"></div>

    <h3>Copy Your Code:</h3>
    <textarea id="output" readonly></textarea>
    <button onclick="copyCode()">Copy Code</button>
  </div>

  <script>
    function generateCode() {
      // Gather user input
      const reactionTitle = document.getElementById('reactionTitle').value;
      const reaction1 = document.getElementById('reaction1').value;
      const reaction2 = document.getElementById('reaction2').value;
      const reaction3 = document.getElementById('reaction3').value;
      const reaction4 = document.getElementById('reaction4').value;
      const infoTitle = document.getElementById('infoTitle').value;
      const infoIntro = document.getElementById('infoIntro').value;

      // Build the code snippet (HTML + JS + minimal inline CSS)
      const code = `
<!-- START of Thumbs-Up + Info iTab Embed -->
<div style="position: fixed; bottom: 20px; right: 20px; width: 100px; height: 50px; background: #fff; border: 1px solid #ccc; border-radius: 25px; display: flex; align-items: center; justify-content: space-evenly; box-shadow: 0 2px 5px rgba(0,0,0,0.2); z-index: 9999;">
  <div id="reactionIcon" style="cursor: pointer; font-size: 1.2em; user-select: none; border-radius: 50%; padding: 5px;">üëç</div>
  <div id="infoIcon" style="cursor: pointer; font-size: 1.2em; user-select: none; border-radius: 50%; padding: 5px;">‚ÑπÔ∏è</div>
</div>

<!-- Reaction Popup -->
<div id="reactionPopup" style="position: fixed; bottom: 80px; right: 20px; width: 250px; background: #fff; border: 1px solid #ccc; border-radius: 5px; padding: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); display: none; z-index: 9999;">
  <h4>${reactionTitle}</h4>
  <p>Select your reaction:</p>
  <button onclick="recordReaction(0)" style="display: block; width: 100%; margin: 5px 0; padding: 8px; border: 1px solid #ddd; background: #fafafa; border-radius: 4px; text-align: left; cursor: pointer;">${reaction1}</button>
  <button onclick="recordReaction(1)" style="display: block; width: 100%; margin: 5px 0; padding: 8px; border: 1px solid #ddd; background: #fafafa; border-radius: 4px; text-align: left; cursor: pointer;">${reaction2}</button>
  <button onclick="recordReaction(2)" style="display: block; width: 100%; margin: 5px 0; padding: 8px; border: 1px solid #ddd; background: #fafafa; border-radius: 4px; text-align: left; cursor: pointer;">${reaction3}</button>
  <button onclick="recordReaction(3)" style="display: block; width: 100%; margin: 5px 0; padding: 8px; border: 1px solid #ddd; background: #fafafa; border-radius: 4px; text-align: left; cursor: pointer;">${reaction4}</button>
  <span onclick="hidePopup('reactionPopup')" style="display: inline-block; margin-top: 10px; color: #007bff; text-decoration: underline; cursor: pointer;">Close</span>
</div>

<!-- Info Popup -->
<div id="infoPopup" style="position: fixed; bottom: 80px; right: 290px; width: 220px; background: #fff; border: 1px solid #ccc; border-radius: 5px; padding: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); display: none; z-index: 9999;">
  <h4>${infoTitle}</h4>
  <p>${infoIntro}</p>
  <div id="infoData"><p>No reactions yet.</p></div>
  <span onclick="hidePopup('infoPopup')" style="display: inline-block; margin-top: 10px; color: #007bff; text-decoration: underline; cursor: pointer;">Close</span>
</div>

<script>
// Reaction counts for the 4 buttons
var reactionCounts = [0, 0, 0, 0];
// Only one reaction per user
var hasReacted = false;
// Reaction labels for display in info popup
var reactionLabels = [
  "${reaction1}",
  "${reaction2}",
  "${reaction3}",
  "${reaction4}"
];

// Toggle open/close of popups
function togglePopup(showId, hideId) {
  var showPopup = document.getElementById(showId);
  var hidePopupEl = document.getElementById(hideId);
  if (showPopup.style.display === 'block') {
    showPopup.style.display = 'none';
  } else {
    showPopup.style.display = 'block';
    hidePopupEl.style.display = 'none';
  }
}

// Hide a specific popup
function hidePopup(popupId) {
  document.getElementById(popupId).style.display = 'none';
}

// Update the info popup data
function updateInfoPopup() {
  var total = reactionCounts.reduce(function(a, b){return a + b;}, 0);
  var html = "<p><strong>Total Reactions:</strong> " + total + "</p>";
  for (var i = 0; i < reactionCounts.length; i++) {
    html += "<p>" + reactionLabels[i] + ": " + reactionCounts[i] + "</p>";
  }
  document.getElementById("infoData").innerHTML = html;
}

// Record reaction and auto-close
function recordReaction(index) {
  if (hasReacted) {
    alert("You have already reacted. Only one reaction allowed per view.");
    return;
  }
  reactionCounts[index]++;
  hasReacted = true;
  hidePopup('reactionPopup');
  updateInfoPopup();
}

// Thumbs-up icon -> Reaction Popup
document.getElementById('reactionIcon').addEventListener('click', function() {
  if (hasReacted) {
    alert("You have already reacted. Only one reaction allowed per view.");
    return;
  }
  togglePopup('reactionPopup', 'infoPopup');
});

// Info icon -> Info Popup
document.getElementById('infoIcon').addEventListener('click', function() {
  togglePopup('infoPopup', 'reactionPopup');
  updateInfoPopup();
});
</script>
<!-- END of Thumbs-Up + Info iTab Embed -->
`.trim();

      // Show a live preview in #preview
      document.getElementById("preview").textContent = code;

      // Put the code into the output textarea
      document.getElementById("output").value = code;
    }

    function copyCode() {
      var textArea = document.getElementById("output");
      textArea.select();
      try {
        document.execCommand("copy");
        alert("Code copied to clipboard!");
      } catch (err) {
        alert("Failed to copy. Please copy manually.");
      }
    }
  </script>
</body>
</html>


<br>
<br>
<br>
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Minimal Code Generator Test</title>
</head>
<body>
  <h1>Minimal Code Generator Test</h1>
  <p>Type something below, then click "Generate Code" and "Copy Code".</p>

  <label>Enter text to wrap in &lt;div&gt; tags:</label><br>
  <input type="text" id="userInput" value="Hello world!"><br><br>

  <button id="generateBtn">Generate Code</button>
  <button id="copyBtn">Copy Code</button>

  <h2>Preview:</h2>
  <pre id="preview" style="background: #f4f4f4; padding: 10px;"></pre>

  <h2>Code to Copy:</h2>
  <textarea id="output" rows="5" cols="50"></textarea>

  <script>
    // When "Generate Code" is clicked:
    document.getElementById("generateBtn").addEventListener("click", function() {
      // Grab user input
      let userText = document.getElementById("userInput").value;
      // Build the code snippet
      let code = "<div>" + userText + "</div>";
      // Show it in the preview
      document.getElementById("preview").innerText = code;
      // Put it in the output textarea
      document.getElementById("output").value = code;
    });

    // When "Copy Code" is clicked:
    document.getElementById("copyBtn").addEventListener("click", function() {
      let textArea = document.getElementById("output");
      textArea.select();  // select all text
      try {
        let successful = document.execCommand("copy");
        if (successful) {
          alert("Code copied!");
        } else {
          alert("Unable to copy. Please copy manually.");
        }
      } catch (err) {
        alert("Error copying code: " + err);
      }
    });
  </script>
</body>
</html>


<br
<br>
<br>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>iTab Reaction Demo</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    /* Demo content just to fill the page */
    .demo-content {
      max-width: 600px;
      margin: 50px auto;
      background: #fff;
      padding: 20px;
      text-align: center;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    /* The single bubble (oval) with two icons inside */
    .bubble {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 100px;
      height: 50px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 25px; /* Oval shape */
      display: flex;
      align-items: center;
      justify-content: space-evenly;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      z-index: 9999;
    }

    /* Each icon in the bubble */
    .bubble-icon {
      cursor: pointer;
      font-size: 1.2em;
      user-select: none;
      transition: background 0.2s;
      border-radius: 50%;
      padding: 5px;
    }
    .bubble-icon:hover {
      background: #eee;
    }

    /* Reaction Popup (for üëç) */
    .reaction-popup {
      position: fixed;
      bottom: 80px; 
      right: 20px; 
      width: 250px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      display: none;
      z-index: 9999;
    }

    /* Info Popup (for ‚ÑπÔ∏è) */
    .info-popup {
      position: fixed;
      bottom: 80px;
      right: 290px; /* shift left so it doesn't overlap the reaction popup */
      width: 220px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      display: none;
      z-index: 9999;
    }

    /* Close link inside popups (optional) */
    .close-link {
      display: inline-block;
      margin-top: 10px;
      color: #007bff;
      text-decoration: underline;
      cursor: pointer;
    }

    /* Style for the reaction buttons */
    .reaction-btn {
      display: block;
      width: 100%;
      margin: 5px 0;
      padding: 8px;
      border: 1px solid #ddd;
      background: #fafafa;
      border-radius: 4px;
      text-align: left;
      cursor: pointer;
    }
    .reaction-btn:hover {
      background: #eee;
    }
  </style>
</head>
<body>

  <div class="demo-content">
    <h2>Single Bubble (üëç + ‚ÑπÔ∏è) with Reaction Counters</h2>
    <p>
      - Click the **thumbs-up** icon to open the **reaction** popup.<br/>
      - Select one of the 4 reaction buttons (it will auto-close).<br/>
      - Then click the **info** icon to see **the total count** and a breakdown of each reaction.
    </p>
  </div>

  <!-- The single bubble with two icons -->
  <div class="bubble">
    <!-- Thumbs-Up Icon -->
    <div id="reactionIcon" class="bubble-icon">üëç</div>
    <!-- Info Icon -->
    <div id="infoIcon" class="bubble-icon">‚ÑπÔ∏è</div>
  </div>

  <!-- Reaction Popup (Thumbs-Up) -->
  <div id="reactionPopup" class="reaction-popup">
    <h4>My iTab Title</h4>
    <p>Select your reaction:</p>
    <!-- Each comment is now a button -->
    <button class="reaction-btn" onclick="recordReaction(0)">üëç This is so helpful</button>
    <button class="reaction-btn" onclick="recordReaction(1)">‚ù§Ô∏è It's entertaining</button>
    <button class="reaction-btn" onclick="recordReaction(2)">üî• Great explanation</button>
    <button class="reaction-btn" onclick="recordReaction(3)">üéâ I would recommend</button>
    
    <span class="close-link" onclick="hidePopup('reactionPopup')">Close</span>
  </div>

  <!-- Info Popup (‚ÑπÔ∏è) -->
  <div id="infoPopup" class="info-popup">
    <h4>Reaction Stats</h4>
    <!-- We'll dynamically update this with the counts -->
    <div id="infoData">
      <p>No reactions yet.</p>
    </div>
    <span class="close-link" onclick="hidePopup('infoPopup')">Close</span>
  </div>

  <script>
    // Reaction counts for the 4 buttons
    let reactionCounts = [0, 0, 0, 0];
    // Labels to display in the info popup
    let reactionLabels = [
      "üëç This is so helpful",
      "‚ù§Ô∏è It's entertaining",
      "üî• Great explanation",
      "üéâ I would recommend"
    ];

    // Thumbs-up icon toggles Reaction Popup
    document.getElementById('reactionIcon').addEventListener('click', () => {
      togglePopup('reactionPopup', 'infoPopup');
    });

    // Info icon toggles Info Popup
    document.getElementById('infoIcon').addEventListener('click', () => {
      togglePopup('infoPopup', 'reactionPopup');
      // Update the info popup in case new reactions happened
      updateInfoPopup();
    });

    // Record which reaction was clicked
    function recordReaction(index) {
      // Increment the count for the selected reaction
      reactionCounts[index]++;
      // Automatically close the Reaction Popup
      hidePopup('reactionPopup');
      // Update the Info popup data (so it's ready if user opens it next)
      updateInfoPopup();
    }

    // Show the current counts (including total) in the Info popup
    function updateInfoPopup() {
      let total = reactionCounts.reduce((a, b) => a + b, 0);
      let html = `<p><strong>Total Reactions:</strong> ${total}</p>`;
      for (let i = 0; i < reactionCounts.length; i++) {
        html += `<p>${reactionLabels[i]}: ${reactionCounts[i]}</p>`;
      }
      document.getElementById("infoData").innerHTML = html;
    }

    // Open one popup, close the other
    function togglePopup(showId, hideId) {
      const showPopup = document.getElementById(showId);
      const hidePopupEl = document.getElementById(hideId);

      // If the one we're opening is already visible, close it
      if (showPopup.style.display === 'block') {
        showPopup.style.display = 'none';
      } else {
        // Open the requested popup
        showPopup.style.display = 'block';
        // Close the other popup
        hidePopupEl.style.display = 'none';
      }
    }

    // Hide a specific popup
    function hidePopup(popupId) {
      document.getElementById(popupId).style.display = 'none';
    }
  </script>
</body>
</html>
